<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta charset="utf-8">
<meta name="360-site-verification" content="cabcfb5a0f4c0d28d604e8a69e6c0cdb" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="baidu-site-verification" content="HknqsD2zhn" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Java 编程要点-编码助手网</title>
      <meta content="为编码人员提供在线文档、模板等帮助，提升解决问题效率" name="description">
			<meta content="Java 编程要点 Java, spring, tomcat, servlet, jsp, api doc, bootstrap" name="keywords">
<meta name="sogou_site_verification" content="42nApEZFKO"/>


    <!-- Bootstrap Core CSS -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../../css/heroic-features.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
		<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "//hm.baidu.com/hm.js?dd1361ca20a10cc161e72d4bc4fef6df";
		  var s = document.getElementsByTagName("script")[0];
		  s.parentNode.insertBefore(hm, s);
		})();
		</script>

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">编码助手网</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="/">首页</a>
                    </li>
										<li>
                        <a href="/template.html">模板</a>
                    </li>
										<li>
												<a href="/doc.html">文档</a>
										</li>
                    <li>
                        <a href="/contact.html">联系我们</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Content -->
    <div class="container">

			<div class="row">
					<div class="col-xs-4">
						<h4>Java 编程要点</h4>
						<h6>感谢2015 Way Lau提供内容</h6>
<ul><li><a href='./0.html'>快速开始</a></li><li><a href='./1.html'>Java概述</a></li><li><a href='./2.html'>面向对象编程</a></li><li><a href='./3.html'>语言基础</a></li><li><ul><li><a href='./4.html'>变量</a></li><li><a href='./5.html'>运算符</a></li><li><a href='./6.html'>表达式、语句和块</a></li><li><a href='./7.html'>控制流程语句</a></li></ul></li><li><a href='./8.html'>类和对象</a></li><li><a href='./9.html'>注解</a></li><li><a href='./10.html'>泛型</a></li><li><a href='./11.html'>关键字</a></li><li><a href='./12.html'>IO</a></li><li><ul><li><a href='./13.html'>I/O 流</a></li><li><a href='./14.html'>文件 I/O</a></li></ul></li><li><a href='./15.html'>并发</a></li><li><ul><li><a href='./16.html'>进程（Processes ）和线程（Threads）</a></li><li><a href='./17.html'>同步</a></li><li><a href='./18.html'>活跃度（Liveness）</a></li><li><a href='./19.html'>Guarded Blocks</a></li><li><a href='./20.html'>不可变对象（Immutable Objects)</a></li><li><a href='./21.html'>高级并发对象</a></li></ul></li><li><a href='./22.html'>集合框架</a></li><li><a href='./23.html'>网络基础</a></li><li><ul><li><a href='./24.html'>Socket</a></li><li><a href='./25.html'>I/O 模型的演进</a></li></ul></li><li><a href='./26.html'>JDBC</a></li><li><a href='./27.html'>附录</a></li><li></li>
							<!-- <h3 style="padding:10px">在线文档</h3> -->
					</div>
<div class="col-xs-8">
	<nav>
		<ul class="pager">
			<li class='previous'><a href='6.html'>&larr; 表达式、语句和块</a></li>
		<li class='next'><a href='8.html'>类和对象&rarr;</a></li>
		</ul>
	</nav>
			<div class="row"><div class="col-xs-12"># 控制流程语句<br><br>控制流程语句用于控制程序按照一定流程来执行。<br><br>## if-then<br><br>它告诉你要只有 if 后面是 true 时才执行特定的代码。<br><br>```<br>void applyBrakes() {<br>    // the "if" clause: bicycle must be moving<br>    if (isMoving){ <br>        // the "then" clause: decrease current speed<br>        currentSpeed--;<br>    }<br>}<br>```<br><br>如果 if 后面是 false, 则跳到 if-then 语句后面。语句可以省略中括号，但在编码规范里面不推荐使用，如：<br><br>```<br>void applyBrakes() {<br>    // same as above, but without braces <br>    if (isMoving)<br>        currentSpeed--;<br>}<br>```<br><br>## if-then-else <br><br>该语句是在 if 后面是 false 时，提供了第二个执行路径。<br><br>```<br>void applyBrakes() {<br>    if (isMoving) {<br>        currentSpeed--;<br>    } else {<br>        System.err.println("The bicycle has already stopped!");<br>    } <br>}<br>```<br><br>下面是一个完整的例子：<br><br>```java<br>class IfElseDemo {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		int testscore = 76;<br>		char grade;<br><br>		if (testscore >= 90) {<br>			grade = 'A';<br>		} else if (testscore >= 80) {<br>			grade = 'B';<br>		} else if (testscore >= 70) {<br>			grade = 'C';<br>		} else if (testscore >= 60) {<br>			grade = 'D';<br>		} else {<br>			grade = 'F';<br>		}<br>		System.out.println("Grade = " + grade);<br>	}<br>}<br>```<br><br>输出为：`Grade = C`<br><br>## switch<br><br>switch 语句可以有许多可能的执行路径。可以使用 byte, short, char, 和 int 基本数据类型，也可以是枚举类型（enumerated types）、String 以及少量的原始类型的包装类 Character, Byte, Short, 和 Integer。<br><br>下面是一个 SwitchDemo 例子：<br><br>```java<br>class SwitchDemo {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		int month = 8;<br>		String monthString;<br>		switch (month) {<br>		case 1:<br>			monthString = "January";<br>			break;<br>		case 2:<br>			monthString = "February";<br>			break;<br>		case 3:<br>			monthString = "March";<br>			break;<br>		case 4:<br>			monthString = "April";<br>			break;<br>		case 5:<br>			monthString = "May";<br>			break;<br>		case 6:<br>			monthString = "June";<br>			break;<br>		case 7:<br>			monthString = "July";<br>			break;<br>		case 8:<br>			monthString = "August";<br>			break;<br>		case 9:<br>			monthString = "September";<br>			break;<br>		case 10:<br>			monthString = "October";<br>			break;<br>		case 11:<br>			monthString = "November";<br>			break;<br>		case 12:<br>			monthString = "December";<br>			break;<br>		default:<br>			monthString = "Invalid month";<br>			break;<br>		}<br>		System.out.println(monthString);<br>	}<br>}<br>```<br><br>break 语句是为了防止 fall through。<br><br>```java<br>class SwitchDemoFallThrough {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		java.util.ArrayList<String> futureMonths = new java.util.ArrayList<String>();<br><br>		int month = 8;<br><br>		switch (month) {<br>		case 1:<br>			futureMonths.add("January");<br>		case 2:<br>			futureMonths.add("February");<br>		case 3:<br>			futureMonths.add("March");<br>		case 4:<br>			futureMonths.add("April");<br>		case 5:<br>			futureMonths.add("May");<br>		case 6:<br>			futureMonths.add("June");<br>		case 7:<br>			futureMonths.add("July");<br>		case 8:<br>			futureMonths.add("August");<br>		case 9:<br>			futureMonths.add("September");<br>		case 10:<br>			futureMonths.add("October");<br>		case 11:<br>			futureMonths.add("November");<br>		case 12:<br>			futureMonths.add("December");<br>			break;<br>		default:<br>			break;<br>		}<br><br>		if (futureMonths.isEmpty()) {<br>			System.out.println("Invalid month number");<br>		} else {<br>			for (String monthName : futureMonths) {<br>				System.out.println(monthName);<br>			}<br>		}<br>	}<br><br>}<br>```<br><br>输出为：<br><br>```<br>August<br>September<br>October<br>November<br>December<br>```<br><br>技术上来说，最后一个 break 并不是必须，因为流程跳出 switch 语句。但仍然推荐使用 break ，主要修改代码就会更加简单和防止出错。default 处理了所有不明确值的情况。<br><br>下面例子展示了一个局域多个 case 的情况，<br><br>```java<br>class SwitchDemo2 {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		int month = 2;<br>		int year = 2000;<br>		int numDays = 0;<br><br>		switch (month) {<br>		case 1:<br>		case 3:<br>		case 5:<br>		case 7:<br>		case 8:<br>		case 10:<br>		case 12:<br>			numDays = 31;<br>			break;<br>		case 4:<br>		case 6:<br>		case 9:<br>		case 11:<br>			numDays = 30;<br>			break;<br>		case 2:<br>			if (((year % 4 == 0) && !(year % 100 == 0)) || (year % 400 == 0))<br>				numDays = 29;<br>			else<br>				numDays = 28;<br>			break;<br>		default:<br>			System.out.println("Invalid month.");<br>			break;<br>		}<br>		System.out.println("Number of Days = " + numDays);<br>	}<br>}<br>```<br><br>输出为：`Number of Days = 29`<br><br>### 使用 String<br><br>Java SE 7 开始，可以在 switch 语句里面使用 String,下面是一个例子<br><br>```java<br>class StringSwitchDemo {<br><br>	public static int getMonthNumber(String month) {<br><br>		int monthNumber = 0;<br><br>		if (month == null) {<br>			return monthNumber;<br>		}<br><br>		switch (month.toLowerCase()) {<br>		case "january":<br>			monthNumber = 1;<br>			break;<br>		case "february":<br>			monthNumber = 2;<br>			break;<br>		case "march":<br>			monthNumber = 3;<br>			break;<br>		case "april":<br>			monthNumber = 4;<br>			break;<br>		case "may":<br>			monthNumber = 5;<br>			break;<br>		case "june":<br>			monthNumber = 6;<br>			break;<br>		case "july":<br>			monthNumber = 7;<br>			break;<br>		case "august":<br>			monthNumber = 8;<br>			break;<br>		case "september":<br>			monthNumber = 9;<br>			break;<br>		case "october":<br>			monthNumber = 10;<br>			break;<br>		case "november":<br>			monthNumber = 11;<br>			break;<br>		case "december":<br>			monthNumber = 12;<br>			break;<br>		default:<br>			monthNumber = 0;<br>			break;<br>		}<br><br>		return monthNumber;<br>	}<br><br>	public static void main(String[] args) {<br><br>		String month = "August";<br><br>		int returnedMonthNumber = StringSwitchDemo.getMonthNumber(month);<br><br>		if (returnedMonthNumber == 0) {<br>			System.out.println("Invalid month");<br>		} else {<br>			System.out.println(returnedMonthNumber);<br>		}<br>	}<br>}<br>```<br><br>输出为：8<br><br>**注：**switch 语句表达式中不能有 null。<br><br>## while <br><br>while 语句在判断条件是 true 时执行语句块。语法如下：<br><br>```java<br>while (expression) {<br>     statement(s)<br>}<br>```<br><br>while 语句计算的表达式，必须返回 boolean 值。如果表达式计算为 true，while 语句执行 while 块的所有语句。while 语句继续测试表达式，然后执行它的块，直到表达式计算为 false。完整的例子：<br><br>```java<br>class WhileDemo {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		int count = 1;<br>		while (count < 11) {<br>			System.out.println("Count is: " + count);<br>			count++;<br>		}<br>	}<br>}<br>```<br><br>用 while 语句实现一个无限循环：<br><br>```<br>while (true){<br>    // your code goes here<br>}<br>```<br><br>## do-while <br><br>语法如下：<br><br>```<br>do {<br>     statement(s)<br>} while (expression);<br>```<br><br>do-while 语句和 while 语句的区别是，do-while 计算它的表达式是在循环的底部，而不是顶部。所以，do 块的语句，至少会执行一次，如 DoWhileDemo 程序所示：<br><br>```java<br>class DoWhileDemo {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		int count = 1;<br>		do {<br>			System.out.println("Count is: " + count);<br>			count++;<br>		} while (count < 11);<br>	}<br>}<br>```<br><br>输出为：<br><br>```<br>Count is: 1<br>Count is: 2<br>Count is: 3<br>Count is: 4<br>Count is: 5<br>Count is: 6<br>Count is: 7<br>Count is: 8<br>Count is: 9<br>Count is: 10<br>```<br><br>## for<br><br>for 语句提供了一个紧凑的方式来遍历一个范围值。程序经常引用为"for 循环"，因为它反复循环，直到满足特定的条件。for 语句的通常形式，表述如下：<br><br>```<br>for (initialization; termination;<br>     increment) {<br>    statement(s)<br>}<br>```<br><br>使 for 语句时要注意：<br><br>* initialization 初始化循环；它执行一次作为循环的开始。<br>* 当 termination 计算为 false，循环结束。<br>* increment 会在循环的每次迭代执行；该表达式可以接受递增或者递减的值<br><br>```<br>class ForDemo {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		for(int i=1; i<11; i++){<br>            System.out.println("Count is: " + i);<br>       }<br>	}<br><br>}<br>```<br><br>输出为：<br><br>```<br>Count is: 1<br>Count is: 2<br>Count is: 3<br>Count is: 4<br>Count is: 5<br>Count is: 6<br>Count is: 7<br>Count is: 8<br>Count is: 9<br>Count is: 10<br>```<br>注意：代码在 initialization 声明变量。该变量的存活范围，从它的声明到 for 语句的块的结束。所以，它可以用在 termination 和 increment。如果控制 for 语句的变量，不需要在循环外部使用，最好是在 initialization 声明。经常使用 i,j,k 经常用来控制 for 循环。在 initialization 声明他们，可以限制他们的生命周期，减少错误。<br><br>for 循环的三个表达式都是可选的，一个无限循环，可以这么写：<br><br>```<br>// infinite loop<br>for ( ; ; ) {<br>    <br>    // your code goes here<br>}<br>```<br><br>for 语句还可以用来迭代 集合（Collections） 和 数组（arrays），这个形式有时被称为增强的 for 语句（ enhanced for ），可以用来让你的循环更加紧凑，易于阅读。为了说明这一点，考虑下面的数组：<br><br>```<br>int[] numbers = {1,2,3,4,5,6,7,8,9,10};<br>```<br><br>使用 增强的 for 语句来循环数组<br><br>```<br>class EnhancedForDemo {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		int[] numbers = <br>            {1,2,3,4,5,6,7,8,9,10};<br>        for (int item : numbers) {<br>            System.out.println("Count is: " + item);<br>        }<br>	}<br><br>}<br>```<br><br>输出：<br><br>```<br>Count is: 1<br>Count is: 2<br>Count is: 3<br>Count is: 4<br>Count is: 5<br>Count is: 6<br>Count is: 7<br>Count is: 8<br>Count is: 9<br>Count is: 10<br>```<br><br>尽可能使用这种形式的 for 替代传统的 for 形式。<br><br>## break<br><br>break 语句有两种形式：标签和非标签。在前面的 switch 语句，看到的 break 语句就是非标签形式。可以使用非标签 break 用来结束 for，while，do-while 循环，如下面的 BreakDemo 程序：<br><br>```java<br>class BreakDemo {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		int[] arrayOfInts = { 32, 87, 3, 589, 12, 1076, 2000, 8, 622, 127 };<br>		int searchfor = 12;<br><br>		int i;<br>		boolean foundIt = false;<br><br>		for (i = 0; i < arrayOfInts.length; i++) {<br>			if (arrayOfInts[i] == searchfor) {<br>				foundIt = true;<br>				break;<br>			}<br>		}<br><br>		if (foundIt) {<br>			System.out.println("Found " + searchfor + " at index " + i);<br>		} else {<br>			System.out.println(searchfor + " not in the array");<br>		}<br>	}<br><br>}<br>```<br><br>这个程序在数组终查找数字12。break 语句，当找到值时，结束 for 循环。控制流就跳转到 for 循环后面的语句。程序输出是：<br><br>```<br>Found 12 at index 4<br>```<br><br>无标签 break 语句结束最里面的 switch，for，while，do-while 语句。而标签break 结束最外面的语句。接下来的程序，BreakWithLabelDemo，类似前面的程序，但使用嵌套循环在二维数组里寻找一个值。但值找到后，标签 break 语句结束最外面的 for 循环(标签为"search"):<br><br>```java<br>class BreakWithLabelDemo {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		int[][] arrayOfInts = { { 32, 87, 3, 589 }, { 12, 1076, 2000, 8 }, { 622, 127, 77, 955 } };<br>		int searchfor = 12;<br><br>		int i;<br>		int j = 0;<br>		boolean foundIt = false;<br><br>		search: for (i = 0; i < arrayOfInts.length; i++) {<br>			for (j = 0; j < arrayOfInts[i].length; j++) {<br>				if (arrayOfInts[i][j] == searchfor) {<br>					foundIt = true;<br>					break search;<br>				}<br>			}<br>		}<br><br>		if (foundIt) {<br>			System.out.println("Found " + searchfor + " at " + i + ", " + j);<br>		} else {<br>			System.out.println(searchfor + " not in the array");<br>		}<br>	}<br>}<br>```<br><br>程序输出是：<br><br>```<br>Found 12 at 1, 0<br>```<br><br>break 语句结束标签语句，它不是传送控制流到标签处。控制流传送到紧随标记（终止）声明。<br><br>**注：** Java 没有类似于 C 语言的 goto 语句，但带标签的 break 语句，实现了类似的效果。<br><br>## continue<br><br>continue 语句忽略 for，while，do-while 的当前迭代。非标签模式，忽略最里面的循环体，然后计算循环控制的 boolean 表达式。接下来的程序，ContinueDemo，通过一个字符串的步骤，计算字母“p”出现的次数。如果当前字符不是 p，continue 语句跳过循环的其他代码，然后处理下一个字符。如果当前字符是 p，程序自增字符数。<br><br>```java<br>class ContinueDemo {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		String searchMe = "peter piper picked a " + "peck of pickled peppers";<br>        int max = searchMe.length();<br>        int numPs = 0;<br><br>        for (int i = 0; i < max; i++) {<br>            // interested only in p's<br>            if (searchMe.charAt(i) != 'p')<br>                continue;<br><br>            // process p's<br>            numPs++;<br>        }<br>        System.out.println("Found " + numPs + " p's in the string.");<br>	}<br><br>}<br>```<br><br>程序输出：<br><br>```<br>Found 9 p's in the string<br>```<br><br>为了更清晰看效果，尝试去掉 continue 语句，重新编译。再跑程序，count 将是错误的，输出是 35，而不是 9.<br><br>带标签的 continue 语句忽略标签标记的外层循环的当前迭代。下面的程序例子，ContinueWithLabelDemo，使用嵌套循环在字符传的字串中搜索字串。需要两个嵌套循环：一个迭代字串，一个迭代正在被搜索的字串。下面的程序ContinueWithLabelDemo，使用 continue 的标签形式，忽略最外层的循环。<br><br>```java<br>class ContinueWithLabelDemo {<br><br>	/**<br>	 * @param args<br>	 */<br>	public static void main(String[] args) {<br>		String searchMe = "Look for a substring in me";<br>		String substring = "sub";<br>		boolean foundIt = false;<br><br>		int max = searchMe.length() - substring.length();<br><br>		test: for (int i = 0; i <= max; i++) {<br>			int n = substring.length();<br>			int j = i;<br>			int k = 0;<br>			while (n-- != 0) {<br>				if (searchMe.charAt(j++) != substring.charAt(k++)) {<br>					continue test;<br>				}<br>			}<br>			foundIt = true;<br>			break test;<br>		}<br>		System.out.println(foundIt ? "Found it" : "Didn't find it");<br>	}<br><br>}<br>```<br><br>这里是程序输出：<br><br>```<br>Found it<br>```<br><br>## return<br><br>最后的分支语句是 return 语句。return 语句从当前方法退出，控制流返回到方法调用处。return 语句有两种形式：一个是返回值，一个是不返回值。为了返回一个值，简单在 return 关键字后面把值放进去(或者放一个表达式计算)<br><br>```<br>return ++count;<br>```<br>return 的值的数据类型，必须和方法声明的返回值的类型符合。当方法声明为 void，使用下面形式的 return 不需要返回值。<br><br>```<br>return;<br>```<br><br>## 源码<br><br>本章例子的源码，可以在 `com.waylau.essentialjava.flow` 包下找到。</div></div>
			<nav>
				<ul class="pager">
				<li class='previous'><a href='6.html'>&larr; 表达式、语句和块</a></li>
			<li class='next'><a href='8.html'>类和对象&rarr;</a></li>
				</ul>
			</nav>
</div>
							<!-- <h3 style="padding:10px">在线文档</h3> -->
					</div>
			<!-- /.row -->
			  <hr>
        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-xs-12">
                    <p>Copyright &copy; 小龙软件工作室 2016 粤icp备16103410</p>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="../../js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../../js/bootstrap.min.js"></script>

</body>

</html>
